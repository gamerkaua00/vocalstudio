<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#050505">
    <title>KMZ Vocal Studio | Pro</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
    <script src="https://unpkg.com/soundtouchjs/dist/soundtouch-min.js"></script>
</head>
<body>

    <div id="splashScreen" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: #050505; z-index: 9999; display: flex; flex-direction: column; justify-content: center; align-items: center; transition: opacity 0.5s ease-out;">
        <div style="font-size: 4rem; font-weight: 900; letter-spacing: 5px; color: #F3F4F6;">KMZ</div>
        <div style="font-size: 0.9rem; letter-spacing: 3px; color: #2563EB; margin-top: 10px;">AUDIO TECHNOLOGIES</div>
        <div style="margin-top: 30px; font-size: 0.8rem; color: #9CA3AF;">Carregando motores de áudio...</div>
    </div>

    <header>
        <div class="header-left">
            <div class="logo">KMZ <span>Vocal Studio</span></div>
            <div id="dbStatus" class="status-badge">Iniciando Banco...</div>
        </div>
    </header>

    <div class="tabs">
        <button class="tab-btn active" data-target="library"><i class="fas fa-folder"></i> Biblioteca</button>
        <button class="tab-btn" data-target="studio"><i class="fas fa-sliders-h"></i> Estúdio</button>
        <button class="tab-btn" data-target="credits"><i class="fas fa-info-circle"></i> Créditos</button>
    </div>

    <main>
        <div id="screen-library" class="screen active">
            <div class="action-panel">
                <button class="btn-primary" id="btnImport" onclick="document.getElementById('fileInput').click()">
                    <i class="fas fa-plus-circle"></i> Adicionar Playbacks
                </button>
                <input type="file" id="fileInput" accept="audio/*" style="display: none;" onchange="handleImport(this.files)">
            </div>
            
            <div id="libList" class="media-list"></div>
        </div>

        <div id="screen-studio" class="screen">
            <div class="studio-panel">
                <div class="track-info">
                    <h2 id="studioName">Nenhuma faixa</h2>
                    <span id="studioStatus">Selecione uma música na biblioteca</span>
                </div>

                <div class="pitch-controls">
                    <h3>Ajuste de Tom (Semitons)</h3>
                    <div class="tone-grid">
                        <button class="t-btn" onclick="setTone(-3, this)">-3</button>
                        <button class="t-btn" onclick="setTone(-2, this)">-2</button>
                        <button class="t-btn" onclick="setTone(-1, this)">-1</button>
                        <button class="t-btn orig active" onclick="setTone(0, this)">TOM ORIGINAL</button>
                        <button class="t-btn" onclick="setTone(1, this)">+1</button>
                        <button class="t-btn" onclick="setTone(2, this)">+2</button>
                        <button class="t-btn" onclick="setTone(3, this)">+3</button>
                    </div>
                </div>
            </div>
            <div class="player-bar">
                <button class="btn-play" id="btnPlay" onclick="togglePlay()"><i class="fas fa-play"></i> Reproduzir</button>
                <button class="btn-export" id="btnExport" onclick="exportTrack()"><i class="fas fa-download"></i> Exportar (.WAV)</button>
            </div>
        </div>

        <div id="screen-credits" class="screen">
            <div class="credits-panel" style="text-align: center; padding: 40px 20px;">
                <h1 style="font-size: 3rem; margin-bottom: 10px; color: var(--kmz-blue);">KMZ</h1>
                <h2 style="font-size: 1.2rem; margin-bottom: 30px; color: var(--text-main);">AUDIO TECHNOLOGIES</h2>
                
                <p style="color: var(--text-muted); font-size: 0.9rem; line-height: 1.6; margin-bottom: 30px;">
                    Desenvolvido com foco em processamento digital de sinais de alta fidelidade para playbacks e backing tracks. <br><br>
                    Utilizando o motor Phase Vocoder para preservação de formantes e eliminação de artefatos metálicos.
                </p>

                <div style="padding: 20px; background: var(--bg-surface); border: 1px solid var(--border-color); border-radius: 8px;">
                    <strong>Desenvolvedor Chefe:</strong><br>
                    Kauã Mazur dos Reis<br>
                    <span style="font-size: 0.8rem; color: #666;">@kaua_mazur_dos_reis</span><br>
                    <span style="font-size: 0.8rem; color: var(--kmz-blue); font-weight: bold; margin-top: 5px; display: block;">
                        <i class="fas fa-envelope"></i> kmzsuportt1@gmail.com
                    </span>
                </div>
                
                <p style="margin-top: 40px; font-size: 0.8rem; color: #555;">
                    &copy; 2026 KMZ. Todos os direitos reservados.
                </p>
            </div>
        </div>
    </main>

    <div id="renameModal" class="overlay">
        <div class="modal-box">
            <h3 style="margin-bottom: 15px;">Renomear Faixa</h3>
            <input type="text" id="renameInput" class="modal-input">
            <div class="modal-btns">
                <button class="btn-cancel" onclick="document.getElementById('renameModal').style.display='none'">Cancelar</button>
                <button class="btn-confirm" id="btnConfirmRename">Salvar</button>
            </div>
        </div>
    </div>

    <script src="js/app.js"></script>
    <script src="js/audio-engine.js"></script>
</body>
</html>
